# 附加题

## 题目：浮点运算器设计（<font color=green>**+0.5**</font>分）

&emsp;&emsp;修改必做题的运算器代码，使其支持非规格化数据的加减法运算。

&emsp;&emsp;要求及说明：

&emsp;&emsp;（1）要求通过Testbench的<u>全部11组（共22个）</u>测试用例；

&emsp;&emsp;（2）不考虑$\pm \infty$和$NaN$等特殊数据作为输入或运算结果的情况；

&emsp;&emsp;（3）不能使用Vivado库或任何第三方提供的IP核。

!!! tip "提示 :bulb:"
    &emsp;&emsp;（1）按照IEEE754的标准，阶码采用移码来表示。对于规格化数，指数等于阶码$Exponent$减去$-127$；对于非规格化数，指数则恒为$-126$，而$-126=1-127$，即 **非规格化数可视为阶码$Exponent$为$1$，但尾数$Mantissa$不含隐藏$1$的特殊的“规格化数”**。如此一来，在运算时就可以将非规格化数当作规格化数进行处理。

    &emsp;&emsp;（2）思考规格化数和非规格化数的区别是什么？如何在规格化的步骤中，区分当前的运算结果是规格化数还是非规格化数？

&emsp;&emsp;若采用时序逻辑实现，在运行仿真后，可点击菜单栏的`Run All`按钮或按下快捷键`F3`，Testbench将在所有测试用例完成后自动结束，如图4-1所示。

<center><img src="../assets/4-1.png" width = 550></center>
<center>图4-1 点击Run All按钮以运行所有测试用例</center>
